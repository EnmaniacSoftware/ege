#include "Core/Crypto/Interface/Cipher/CipherKey.h"

EGE_NAMESPACE

//--------------------------------------------------------------------------------------------------------------------------------------------------------------
EGE_DEFINE_NEW_OPERATORS(CipherKey)
EGE_DEFINE_DELETE_OPERATORS(CipherKey)
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
CipherKey::CipherKey(const String& key) : Object(NULL)
{
  s64 length = static_cast<s64>(key.length());
  if (m_key.write(reinterpret_cast<const void*>(key.toAscii()), length) != length)
  {
    m_key.clear();
  }
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
CipherKey::CipherKey(const PDataBuffer& key) : Object(NULL)
{
  if (key->size() != m_key.write(key))
  {
    m_key.clear();
  }
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
CipherKey::~CipherKey()
{
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
u8* CipherKey::data() const
{
  return reinterpret_cast<u8*>(m_key.data());
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
s64 CipherKey::length() const
{
  return m_key.size();
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------