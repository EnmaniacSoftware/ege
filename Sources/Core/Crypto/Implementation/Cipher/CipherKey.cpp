#include "Core/Crypto/Interface/Cipher/CipherKey.h"

EGE_NAMESPACE_BEGIN

//--------------------------------------------------------------------------------------------------------------------------------------------------------------
EGE_DEFINE_NEW_OPERATORS(CipherKey)
EGE_DEFINE_DELETE_OPERATORS(CipherKey)
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
CipherKey::CipherKey(const String& key) : Object(NULL)
{
  s64 length = static_cast<s64>(key.size());
  if (m_key.write(reinterpret_cast<const void*>(key.toAscii()), length) != length)
  {
    m_key.clear();
  }
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
CipherKey::CipherKey(const PDataBuffer& key) : Object(NULL)
{
  if (key->size() != m_key.write(key))
  {
    m_key.clear();
  }
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
CipherKey::~CipherKey()
{
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------

EGE_NAMESPACE_END