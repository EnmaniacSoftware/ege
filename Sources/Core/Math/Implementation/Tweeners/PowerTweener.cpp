#include "Core/Math/Interface/Tweeners/PowerTweener.h"
#include "EGEMath.h"

EGE_NAMESPACE_BEGIN

//--------------------------------------------------------------------------------------------------------------------------------------------------------------
PowerTweener::PowerTweener(s32 power) : m_power(power)
{
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
PowerTweener::~PowerTweener()
{
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
float32 PowerTweener::easeIn(float32 time)
{
  return Math::Pow(time, static_cast<float32>(m_power));
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
float32 PowerTweener::easeOut(float32 time)
{
  s32 sign = (m_power & 0x1) ? 1 : -1;

  return sign * (Math::Pow(time - 1.0f, static_cast<float32>(m_power)) + sign);
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
float32 PowerTweener::easeInOut(float32 time)
{
  time *= 2;

  if (1.0f > time)
  {
    return easeIn(time) * 0.5f;
  }

  s32 sign = (m_power & 0x1) ? 1 : -1;

  return sign * 0.5f * (Math::Pow(time - 2.0f, static_cast<float32>(m_power)) + sign * 2.0f);
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------

EGE_NAMESPACE_END