#include "Core/Random/StdC/RandomGeneratorStdC_p.h"
#include <time.h>

EGE_NAMESPACE_BEGIN

//--------------------------------------------------------------------------------------------------------------------------------------------------------------
EGE_DEFINE_NEW_OPERATORS(RandomGeneratorPrivate)
EGE_DEFINE_DELETE_OPERATORS(RandomGeneratorPrivate)
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
RandomGeneratorPrivate::RandomGeneratorPrivate()
{
  setSeed((u32) time(NULL));
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
RandomGeneratorPrivate::~RandomGeneratorPrivate()
{
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
void RandomGeneratorPrivate::setSeed(u32 seed)
{
  srand(seed);
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
s32 RandomGeneratorPrivate::rand()
{
  return ::rand();
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
float32 RandomGeneratorPrivate::rand(float32 min, float32 max)
{
  // generate value from [0-1]
  float32 value = static_cast<float32>(rand()) / RAND_MAX;

  // map it to [min, max]
  return min + value * (max - min);
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------

EGE_NAMESPACE_END