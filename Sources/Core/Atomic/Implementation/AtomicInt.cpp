#include "Core/Atomic/Interface/AtomicInt.h"
#include "Core/Atomic/Interface/AtomicOperations.h"

EGE_NAMESPACE_BEGIN

//--------------------------------------------------------------------------------------------------------------------------------------------------------------
AtomicInt::AtomicInt(s32 value) 
: m_value(value)
{
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
AtomicInt::AtomicInt(const AtomicInt& other)
: m_value(other.m_value)
{
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
s32 AtomicInt::load()
{
  return egeAtomicAdd(m_value, 0);
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
s32 AtomicInt::increment()
{
  return egeAtomicIncrement(m_value);
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
s32 AtomicInt::decrement()
{
  return egeAtomicDecrement(m_value);
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
s32 AtomicInt::testAndSet(s32 expected, s32 newValue)
{
  return egeAtomicCompareAndSet(m_value, expected, newValue);
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------

EGE_NAMESPACE_END